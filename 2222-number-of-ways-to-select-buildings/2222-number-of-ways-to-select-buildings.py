'''
TLE:
"1000100101001000110010100001000001111001110010011110111000100110010111011000010000111011000100111111110101011010110010111000000001011100111101111001100110110110001101000111011000010101100100110000001001111000000011101100111101111000001010101100000110011111001111010100010011101101001100000101101111101000000100101101101001100101111000111100100000101110000010100111001110100111100000101111001101011100110100010101111110100010010000000010111000100100001100100100000011011111100110100110111010001011001100000000101001011111101110001001000111001100100010101000111100010011110100011011101101110010110011011101001110110000001000000111111001001000011010101001010101111111010101101101111011101101110111011000110011011101101000100000100111001010010001111111101101111000100101010100010001111011100011010000101111011101010000001110000100110100111010001101010100001011011010100000100111010011110100100110110111011100111100011010000101100100111100010001000101000011111101111111001011011000011110001110010010111110111011100110001011000000010111100000001000010011001110110110101111010110111010011011100111101011110110001100111101101100010101101000010001010111101001010000011001010101000110001010101111000111001011101100011100110000100101100101011110110011100010000001100101100000010110111100000111100111001110000101010000110011001010111001100000010011000111100010000111110111111110001010010100110110010001110111010000111011100110010011100100110101001111011101101001010011000110010110000000000101011001010101001010000010111000011000111101101101000100010001110000011101010000101110000010001001110100110001110111100001110010101000111111100000111000011010001011010011101100001010111001010010100001000101011101011000111111100000101011010000010000100010101011011011010111010001111101011011100100010100000000001011010000110111001110101000111111010100100100111101100110110111110001001010001010111010001101010001110010000001001100101011001100010010100001000011111111001011110110101001101011011110000111001110111011111100111100101110000010010001110000010110001001011100110011100000010001101001010010001100100000110111100010110011101010000011110001101000100001111011111101110000100001101010110010100011101000011001000011000101111000001101100001001010100100100011111011000111100100100000100110010010110101001100011010100011000000000111000100011011101001011110001011110001101101001011111011000010001100100100010010100111100001110001111111001101000010001101011000010010101101101001100000100101001001010110010000001010110111111111100000011100000011001110010100010010010101111001001101110110111001110111011000110110101010111110110011110010101110000001101001010000000101111100000101111010110000000011000111100001111011111011001101001101100010001111111010100110110001001001010010110110001111100000001101110111011011001011000111101101000000100111100010110101010110101110001110011000011110010000100001110010001100001011001000000000110001001000100101111111101001111010110111101101101101011010000011001011011111110110011011111110101101100101011000110101011011111111000101011101111100011001101110101110010000011110000010000100010001001011011011110101001011110111000110010010000000010101001111010001111110001001001101010011101100011101001111110111000010111001111101101110010111001101110000111000101101000000011101101000011111000011000101000000111111111001011001010100001100010010101011111110100000010000101010100111000000111001011110011011101110000010110110111010000000100010000011100010001001010000001111100010111011110010100000010101110011101100001000010111001110011010111001011010001001100010111101011011010010000100011111000101011011110110000011100001111000100010101000111101110101101011001010111010010110100111010011100000011101010101011001110010100101100000000100001011110000110010001100101110010110101000100010010001011001100111001110011011001100100011011110100111110011110011011011000001011010100000000111111010000010000111001000101000100100111111111010000000010100001101110010101000010100111011110011000001001110001101111000101000110100000100000000100000010011101010100001011001010011010110101111011101100011111010011100110001111010100000000110001011101110110010100000111001001111010100111100111100000001010101101110101111011110111101011010011101111111110110011000001111101111001111110000110111011001011101011001011100001100111100000110100101101111110000101111100111010001000110110001001000100101011111001101100110011111100100001001101110110101100001011110010100000001010001011000110110100110111101001011101001010101100011000010100100111111100101001111110101110101110101111000001110000111111100011100000110000010010111000011000111011101111001100010001001010111011011001110100000101001111101011101010111010001001110101001100100111010011101111001001001010110010101000000010111000001110110010001100110111000101100110000000001010011100110001100010011000001110011001100001010000100011011011100010110001000000111100110100101010000111001111000001001100011111111101111001101100000010101011010110000000111101100001011001001111001000101100010101011010011110111100111111101000010011011110101111001111001101001000111011000010111011101101000001010111000101100011010101001111001111101101010000110110001001100100101100000101001100011111101110011000100011110110111100001011001101101000110011110000011010101010110110000101010111011011101001010010010010111001111001101101000111000111111011110100010001010010001000001010001011111100101000010000100100000011100110010100001100001110110100010000110111011110100111000010111010010101100000110010010011010111100011010110001111000000010110000011011101001100011000011110011001010111000010110110000100000000000111011101010100000100010000010100010000101000011010110010011000110100111011011011011110011000001110100111001011000000001000000111000100000101010001001010011101011110001110001110011001101111010001000001010110101100011111010111101110100111101011001100101000010000101011100000010000000011010101001111110101011010000011111101001110110001001010110101101110001011011011010000001011000111001000111000001111001011101001011110000011000010110001101011110000110010101010000101110010110000111100110001010110111010010011011111011100011000011000001100110100111101011101011011100110000011000111110000001101101111"
'''
class Solution:
    def numberOfWays(self, s: str) -> int:
        # dp0 and dp1 the 0 or 1 s behind them, INCLU
        # so starting from every, select second that unequal it, and the third, behind them
        # NO! cannot. you should find where is the second you find.
        # for every a, iter b still? but c can be get from dp[b]
        # and a next0, next1
        
        # accu should accumulate all results valid for starting 0?
        # '0 101' <- '101'
        # dp0[i] = 
                
        pre0 = [0] * len(s)
        pre1 = [0] * len(s)
        suf0 = [0] * len(s)
        suf1 = [0] * len(s)
        ans = 0
        
        for i in range(len(s)):
            if i == 0:
                if s[i] == '0':
                    pre0[i] += 1
                else:
                    pre1[i] += 1
            else:
                if s[i] == '0':
                    pre0[i] = pre0[i - 1] + 1
                    pre1[i] = pre1[i - 1]
                else:
                    pre1[i] = pre1[i - 1] + 1
                    pre0[i] = pre0[i - 1]
                    
        for i in reversed(range(len(s))):
            if i == len(s) - 1:
                if s[i] == '0':
                    suf0[i] += 1
                else:
                    suf1[i] += 1
            else:
                if s[i] == '0':
                    suf0[i] = suf0[i + 1] + 1
                    suf1[i] = suf1[i + 1]
                else:
                    suf1[i] = suf1[i + 1] + 1
                    suf0[i] = suf0[i + 1]
                    
        for i in range(len(s)):
            if s[i] == '0':
                ans += pre1[i] * suf1[i]
            else:
                ans += pre0[i] * suf0[i]
                
        return ans
            
        
        return ans